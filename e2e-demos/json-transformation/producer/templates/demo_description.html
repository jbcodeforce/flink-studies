{% extends "base.html" %}

{% block title %}Demo Description - Kafka Producer{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">üìñ Demonstration Overview</h1>
    <p class="page-subtitle">Kafka Producer for Orders and Jobs - Apache Flink Integration</p>
</div>

<!-- Architecture Diagram -->
<div class="card mb-4">
    <div class="card-header">
        <h2 class="card-title">üèóÔ∏è System Architecture</h2>
    </div>
    <div class="card-body text-center">
        <img src="/static/architecture.drawio.png" 
             alt="System Architecture Diagram" 
             style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: var(--shadow);">
        <p class="text-muted mt-2">Click image to view full size</p>
    </div>
</div>

<!-- Overview Section -->
<div class="card mb-4">
    <div class="card-header">
        <h2 class="card-title">üéØ Demonstration Purpose</h2>
    </div>
    <div class="card-body">
        <p>This demonstration showcases a professional Kafka producer application built with FastAPI that generates realistic order and job records for stream processing with Apache Flink. The system demonstrates modern data engineering practices with real-time data production, monitoring, and management capabilities.</p>
        
        <div style="margin-top: 1.5rem;">
            <h3 style="color: var(--primary-blue); margin-bottom: 1rem;">üîë Key Features</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
                <div style="padding: 1rem; background: var(--bg-secondary); border-radius: 8px;">
                    <h4>üìù Data Generation</h4>
                    <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                        <li>Realistic order records with customer data</li>
                        <li>Job posting records with company information</li>
                        <li>Custom JSON payload support</li>
                        <li>Configurable record counts and topics</li>
                    </ul>
                </div>
                
                <div style="padding: 1rem; background: var(--bg-secondary); border-radius: 8px;">
                    <h4>üåê Professional Web Interface</h4>
                    <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                        <li>Modern dashboard with dark/light themes</li>
                        <li>Real-time job monitoring and status</li>
                        <li>Interactive forms with validation</li>
                        <li>Responsive design for all devices</li>
                    </ul>
                </div>
                
                <div style="padding: 1rem; background: var(--bg-secondary); border-radius: 8px;">
                    <h4>üîó Integration Capabilities</h4>
                    <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                        <li>REST API for programmatic access</li>
                        <li>Confluent Control Center integration</li>
                        <li>Kubernetes deployment ready</li>
                        <li>Background job processing</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Data Flow Section -->
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
    <!-- Data Types -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">üìä Data Types Produced</h2>
        </div>
        <div class="card-body">
            <div style="margin-bottom: 1.5rem;">
                <h4 style="color: var(--primary-blue);">üì¶ Order Records</h4>
                <p class="text-muted">E-commerce order data including:</p>
                <ul style="margin-left: 1.5rem;">
                    <li>Order ID and timestamps</li>
                    <li>Customer information</li>
                    <li>Product details and pricing</li>
                    <li>Shipping and payment data</li>
                </ul>
            </div>
            
            <div style="margin-bottom: 1.5rem;">
                <h4 style="color: var(--primary-blue);">üíº Job Records</h4>
                <p class="text-muted">Employment posting data including:</p>
                <ul style="margin-left: 1.5rem;">
                    <li>Job posting ID and dates</li>
                    <li>Company and position details</li>
                    <li>Location and salary ranges</li>
                    <li>Skills and requirements</li>
                </ul>
            </div>
            
            <div>
                <h4 style="color: var(--primary-blue);">üõ†Ô∏è Custom JSON</h4>
                <p class="text-muted">User-defined JSON payloads for specialized use cases</p>
            </div>
        </div>
    </div>

    <!-- Workflow -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">üîÑ Demo Workflow</h2>
        </div>
        <div class="card-body">
            <div style="display: flex; flex-direction: column; gap: 1rem;">
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <div style="width: 30px; height: 30px; background: var(--primary-blue); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">1</div>
                    <div>
                        <strong>Select Data Type</strong>
                        <p class="text-muted">Choose between orders, jobs, or custom JSON</p>
                    </div>
                </div>
                
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <div style="width: 30px; height: 30px; background: var(--primary-blue); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">2</div>
                    <div>
                        <strong>Configure Production</strong>
                        <p class="text-muted">Set topic name and record count</p>
                    </div>
                </div>
                
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <div style="width: 30px; height: 30px; background: var(--primary-blue); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">3</div>
                    <div>
                        <strong>Execute Job</strong>
                        <p class="text-muted">Background processing with real-time status</p>
                    </div>
                </div>
                
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <div style="width: 30px; height: 30px; background: var(--primary-blue); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">4</div>
                    <div>
                        <strong>Monitor Results</strong>
                        <p class="text-muted">View in job history and Confluent UI</p>
                    </div>
                </div>
                
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <div style="width: 30px; height: 30px; background: var(--primary-blue); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">5</div>
                    <div>
                        <strong>Process with Flink</strong>
                        <p class="text-muted">Use data in Flink stream processing jobs</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Technical Details -->
<div class="card mb-4">
    <div class="card-header">
        <h2 class="card-title">‚öôÔ∏è Technical Implementation</h2>
    </div>
    <div class="card-body">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem;">
            <div>
                <h4 style="color: var(--primary-blue); margin-bottom: 1rem;">üêç Backend Stack</h4>
                <ul style="margin-left: 1.5rem;">
                    <li><strong>FastAPI</strong> - Modern Python web framework</li>
                    <li><strong>Pydantic</strong> - Data validation and serialization</li>
                    <li><strong>Confluent Kafka</strong> - Kafka client library</li>
                    <li><strong>Jinja2</strong> - Template rendering</li>
                    <li><strong>Uvicorn</strong> - ASGI server</li>
                </ul>
            </div>
            
            <div>
                <h4 style="color: var(--primary-blue); margin-bottom: 1rem;">üé® Frontend Features</h4>
                <ul style="margin-left: 1.5rem;">
                    <li><strong>CSS Variables</strong> - Dynamic theming system</li>
                    <li><strong>JavaScript</strong> - Interactive UI components</li>
                    <li><strong>Responsive Design</strong> - Mobile-friendly interface</li>
                    <li><strong>Real-time Updates</strong> - Live status monitoring</li>
                </ul>
            </div>
            
            <div>
                <h4 style="color: var(--primary-blue); margin-bottom: 1rem;">üöÄ Deployment</h4>
                <ul style="margin-left: 1.5rem;">
                    <li><strong>Docker</strong> - Containerized application</li>
                    <li><strong>Kubernetes</strong> - Orchestration and scaling</li>
                    <li><strong>NodePort Service</strong> - Direct localhost access</li>
                    <li><strong>ConfigMaps</strong> - Environment configuration</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Getting Started -->
<div class="card mb-4">
    <div class="card-header">
        <h2 class="card-title">üöÄ Getting Started</h2>
    </div>
    <div class="card-body">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
            <div>
                <h4 style="color: var(--primary-blue); margin-bottom: 1rem;">Quick Start Commands</h4>
                <div style="background: var(--bg-secondary); padding: 1rem; border-radius: 8px; font-family: Monaco, Consolas, monospace; margin-bottom: 1rem;">
                    <div style="margin-bottom: 0.5rem;"># Complete demo setup</div>
                    <div style="color: var(--primary-blue);">make demo_web_direct</div>
                    <br>
                    <div style="margin-bottom: 0.5rem;"># Individual components</div>
                    <div style="color: var(--primary-blue);">make setup_demo</div>
                    <div style="color: var(--primary-blue);">make deploy_producer_api</div>
                    <div style="color: var(--primary-blue);">make open_web_ui_nodeport</div>
                </div>
            </div>
            
            <div>
                <h4 style="color: var(--primary-blue); margin-bottom: 1rem;">Access Points</h4>
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <a href="/" style="text-decoration: none; color: var(--text-primary);">
                        <div style="padding: 0.75rem; background: var(--bg-secondary); border-radius: 6px; display: flex; align-items: center; gap: 0.5rem;">
                            <span>üè†</span> <strong>Home</strong> - Producer interface
                        </div>
                    </a>
                    <a href="/job-history" style="text-decoration: none; color: var(--text-primary);">
                        <div style="padding: 0.75rem; background: var(--bg-secondary); border-radius: 6px; display: flex; align-items: center; gap: 0.5rem;">
                            <span>üìä</span> <strong>Job History</strong> - Monitor jobs
                        </div>
                    </a>
                    <a href="/docs" style="text-decoration: none; color: var(--text-primary);" target="_blank">
                        <div style="padding: 0.75rem; background: var(--bg-secondary); border-radius: 6px; display: flex; align-items: center; gap: 0.5rem;">
                            <span>üìö</span> <strong>API Docs</strong> - Swagger UI
                        </div>
                    </a>
                    <a href="http://localhost:9021" style="text-decoration: none; color: var(--text-primary);" target="_blank">
                        <div style="padding: 0.75rem; background: var(--bg-secondary); border-radius: 6px; display: flex; align-items: center; gap: 0.5rem;">
                            <span>üåê</span> <strong>Confluent UI</strong> - Control Center
                        </div>
                    </a>
                    <a href="https://github.com/jbcodeforce/flink-studies" style="text-decoration: none; color: var(--text-primary);" target="_blank">
                        <div style="padding: 0.75rem; background: var(--bg-secondary); border-radius: 6px; display: flex; align-items: center; gap: 0.5rem;">
                            <span>üêô</span> <strong>GitHub Repository</strong> - Source code
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Use Cases -->
<div class="card">
    <div class="card-header">
        <h2 class="card-title">üí° Use Cases & Applications</h2>
    </div>
    <div class="card-body">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
            <div style="padding: 1.5rem; border: 2px solid var(--border-color); border-radius: 8px;">
                <h4 style="color: var(--primary-blue); margin-bottom: 1rem;">üéì Learning & Training</h4>
                <ul style="margin-left: 1.5rem;">
                    <li>Kafka producer concepts</li>
                    <li>Stream processing with Flink</li>
                    <li>Real-time data pipelines</li>
                    <li>Microservices architecture</li>
                </ul>
            </div>
            
            <div style="padding: 1.5rem; border: 2px solid var(--border-color); border-radius: 8px;">
                <h4 style="color: var(--primary-blue); margin-bottom: 1rem;">üß™ Development & Testing</h4>
                <ul style="margin-left: 1.5rem;">
                    <li>Generate test data for Flink jobs</li>
                    <li>Prototype streaming applications</li>
                    <li>Performance testing scenarios</li>
                    <li>Data schema validation</li>
                </ul>
            </div>
            
            <div style="padding: 1.5rem; border: 2px solid var(--border-color); border-radius: 8px;">
                <h4 style="color: var(--primary-blue); margin-bottom: 1rem;">üìä Demonstrations</h4>
                <ul style="margin-left: 1.5rem;">
                    <li>Client presentations</li>
                    <li>Technical workshops</li>
                    <li>Conference talks</li>
                    <li>Proof of concepts</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<style>
    /* Make the architecture image clickable and zoomable */
    .card-body img {
        cursor: pointer;
        transition: transform 0.2s;
    }
    
    .card-body img:hover {
        transform: scale(1.02);
    }
    
    /* Style for step numbers */
    .step-number {
        width: 30px;
        height: 30px;
        background: var(--primary-blue);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        flex-shrink: 0;
    }
</style>

<script>
    // Make architecture diagram clickable for full-size view
    document.addEventListener('DOMContentLoaded', function() {
        const architectureImg = document.querySelector('img[alt="System Architecture Diagram"]');
        if (architectureImg) {
            architectureImg.addEventListener('click', function() {
                // Open image in new window for full-size viewing
                window.open(this.src, '_blank');
            });
        }
    });
</script>
{% endblock %}
