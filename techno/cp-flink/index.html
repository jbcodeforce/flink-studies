<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://jeromeboyer.net/flink-studies/techno/cp-flink/ rel=canonical><link href=../ccloud-flink/ rel=prev><link href=../../architecture/kafka/ rel=next><link rel=icon href=../../images/logo-blue.drawio.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.2"><title>Confluent Platform for Flink - Apache and Confluent Flink Studies</title><link rel=stylesheet href=../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#confluent-platform-for-flink class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Apache and Confluent Flink Studies" class="md-header__button md-logo" aria-label="Apache and Confluent Flink Studies" data-md-component=logo> <img src=../../images/flink-header-logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Apache and Confluent Flink Studies </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Confluent Platform for Flink </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/jbcodeforce/flink-studies.git title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Foundations </a> </li> <li class=md-tabs__item> <a href=../../cookbook/ class=md-tabs__link> Cookbook </a> </li> <li class=md-tabs__item> <a href=../../coding/flink-sql-clients/ class=md-tabs__link> Flink_App_Coding </a> </li> <li class=md-tabs__item> <a href=../../methodology/data_as_a_product/ class=md-tabs__link> Methodology </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ccloud-flink/ class=md-tabs__link> Related_Technologies </a> </li> <li class=md-tabs__item> <a href=https://jbcodeforce.github.io/eda-studies class=md-tabs__link> EDA </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Apache and Confluent Flink Studies" class="md-nav__button md-logo" aria-label="Apache and Confluent Flink Studies" data-md-component=logo> <img src=../../images/flink-header-logo.svg alt=logo> </a> Apache and Confluent Flink Studies </label> <div class=md-nav__source> <a href=https://github.com/jbcodeforce/flink-studies.git title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> Foundations </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Foundations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/ class=md-nav__link> <span class=md-ellipsis> Flink Key Concepts </span> </a> </li> <li class=md-nav__item> <a href=../../coding/getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting started </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/flink-sql/ class=md-nav__link> <span class=md-ellipsis> Flink SQL concepts </span> </a> </li> <li class=md-nav__item> <a href=../../labs/ class=md-nav__link> <span class=md-ellipsis> Code&Demos </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/agentic_flink/ class=md-nav__link> <span class=md-ellipsis> Agentic applications </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Cookbook </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Cookbook </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cookbook/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../cookbook/considerations/ class=md-nav__link> <span class=md-ellipsis> Considerations </span> </a> </li> <li class=md-nav__item> <a href=../../cookbook/cluster_mgt/ class=md-nav__link> <span class=md-ellipsis> Cluster management </span> </a> </li> <li class=md-nav__item> <a href=../../cookbook/job_lifecycle/ class=md-nav__link> <span class=md-ellipsis> Job Lifecycle </span> </a> </li> <li class=md-nav__item> <a href=../../coding/k8s-deploy/ class=md-nav__link> <span class=md-ellipsis> FKO & CMF Deployment </span> </a> </li> <li class=md-nav__item> <a href=../../cookbook/terraform/ class=md-nav__link> <span class=md-ellipsis> Confluent Cloud Terraform </span> </a> </li> <li class=md-nav__item> <a href=../fk-k8s-monitor/ class=md-nav__link> <span class=md-ellipsis> Monitoring </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Flink_App_Coding </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Flink_App_Coding </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> Flink SQL coding </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Flink SQL coding </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../coding/flink-sql-clients/ class=md-nav__link> <span class=md-ellipsis> SQL Clients </span> </a> </li> <li class=md-nav__item> <a href=../../coding/flink-sql-1/ class=md-nav__link> <span class=md-ellipsis> Create Table (SQL) </span> </a> </li> <li class=md-nav__item> <a href=../../coding/flink-sql-2/ class=md-nav__link> <span class=md-ellipsis> SQL DML </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Java - Python </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Java - Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../coding/table-api/ class=md-nav__link> <span class=md-ellipsis> Table API </span> </a> </li> <li class=md-nav__item> <a href=../../coding/datastream/ class=md-nav__link> <span class=md-ellipsis> DataStreams API </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../coding/udf_sql/ class=md-nav__link> <span class=md-ellipsis> UDFs & PTFs </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> Deployment </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Deployment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/shift_left_utils/ class=md-nav__link> <span class=md-ellipsis> Manage CC Flink projects </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class=md-ellipsis> More advanced topics </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> More advanced topics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../coding/stateful-func/ class=md-nav__link> <span class=md-ellipsis> Stateful function </span> </a> </li> <li class=md-nav__item> <a href=../../coding/cep/ class=md-nav__link> <span class=md-ellipsis> Complex Event Processing </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Methodology </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Methodology </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../methodology/data_as_a_product/ class=md-nav__link> <span class=md-ellipsis> Data as a product </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/eda-studies/methodology/event-storming/ class=md-nav__link> <span class=md-ellipsis> Event Storming </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/shift_left_utils/ class=md-nav__link> <span class=md-ellipsis> Migrate to real-time processing tools </span> </a> </li> <li class=md-nav__item> <a href=../../methodology/coe/ class=md-nav__link> <span class=md-ellipsis> Center of Excellence </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/flink_project_demos/c360/spark_project/ class=md-nav__link> <span class=md-ellipsis> A C360 data product demo </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Related_Technologies </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Related_Technologies </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ccloud-flink/ class=md-nav__link> <span class=md-ellipsis> Confluent Cloud Flink </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Confluent Platform for Flink </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Confluent Platform for Flink </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#references-compendium class=md-nav__link> <span class=md-ellipsis> References Compendium </span> </a> </li> <li class=md-nav__item> <a href=#specific-concepts-added-on-top-of-flink class=md-nav__link> <span class=md-ellipsis> Specific concepts added on top of Flink </span> </a> </li> <li class=md-nav__item> <a href=#product-set-up class=md-nav__link> <span class=md-ellipsis> Product Set Up </span> </a> </li> <li class=md-nav__item> <a href=#deployment-architecture class=md-nav__link> <span class=md-ellipsis> Deployment architecture </span> </a> </li> <li class=md-nav__item> <a href=#important-source-of-information-for-deployment class=md-nav__link> <span class=md-ellipsis> Important Source of Information for Deployment </span> </a> </li> <li class=md-nav__item> <a href=#authentication-and-authorization class=md-nav__link> <span class=md-ellipsis> Authentication and Authorization </span> </a> <nav class=md-nav aria-label="Authentication and Authorization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#authentication class=md-nav__link> <span class=md-ellipsis> Authentication </span> </a> </li> <li class=md-nav__item> <a href=#authorization class=md-nav__link> <span class=md-ellipsis> Authorization </span> </a> </li> <li class=md-nav__item> <a href=#metadata-management-service-mds-for-rbac-for-flink class=md-nav__link> <span class=md-ellipsis> MetaData Management Service (MDS) for RBAC for Flink </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sql-specific class=md-nav__link> <span class=md-ellipsis> SQL specific </span> </a> </li> <li class=md-nav__item> <a href=#applications class=md-nav__link> <span class=md-ellipsis> Applications </span> </a> </li> <li class=md-nav__item> <a href=#understanding-sizing class=md-nav__link> <span class=md-ellipsis> Understanding Sizing </span> </a> <nav class=md-nav aria-label="Understanding Sizing"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#statement-complexity-impact class=md-nav__link> <span class=md-ellipsis> Statement Complexity Impact </span> </a> </li> <li class=md-nav__item> <a href=#architecture-assumptions class=md-nav__link> <span class=md-ellipsis> Architecture Assumptions </span> </a> </li> <li class=md-nav__item> <a href=#state-management-checkpointing class=md-nav__link> <span class=md-ellipsis> State Management &amp; Checkpointing </span> </a> </li> <li class=md-nav__item> <a href=#resource-guidelines class=md-nav__link> <span class=md-ellipsis> Resource Guidelines </span> </a> </li> <li class=md-nav__item> <a href=#latency-impact-on-resources class=md-nav__link> <span class=md-ellipsis> Latency Impact on Resources </span> </a> </li> <li class=md-nav__item> <a href=#estimation-heuristics class=md-nav__link> <span class=md-ellipsis> Estimation Heuristics </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#monitoring class=md-nav__link> <span class=md-ellipsis> Monitoring </span> </a> </li> <li class=md-nav__item> <a href=#troubleshouting class=md-nav__link> <span class=md-ellipsis> Troubleshouting </span> </a> <nav class=md-nav aria-label=Troubleshouting> <ul class=md-nav__list> <li class=md-nav__item> <a href=#submitted-query-pending class=md-nav__link> <span class=md-ellipsis> Submitted query pending </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../architecture/kafka/ class=md-nav__link> <span class=md-ellipsis> Kafka Integration </span> </a> </li> <li class=md-nav__item> <a href=../cc-tableflow/ class=md-nav__link> <span class=md-ellipsis> Confluent TableFlow </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/techno/data/#data-related-technologies class=md-nav__link> <span class=md-ellipsis> Apache Iceberg </span> </a> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/kafka-studies class=md-nav__link> <span class=md-ellipsis> Kafka-studies </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=https://jbcodeforce.github.io/eda-studies class=md-nav__link> <span class=md-ellipsis> EDA </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#references-compendium class=md-nav__link> <span class=md-ellipsis> References Compendium </span> </a> </li> <li class=md-nav__item> <a href=#specific-concepts-added-on-top-of-flink class=md-nav__link> <span class=md-ellipsis> Specific concepts added on top of Flink </span> </a> </li> <li class=md-nav__item> <a href=#product-set-up class=md-nav__link> <span class=md-ellipsis> Product Set Up </span> </a> </li> <li class=md-nav__item> <a href=#deployment-architecture class=md-nav__link> <span class=md-ellipsis> Deployment architecture </span> </a> </li> <li class=md-nav__item> <a href=#important-source-of-information-for-deployment class=md-nav__link> <span class=md-ellipsis> Important Source of Information for Deployment </span> </a> </li> <li class=md-nav__item> <a href=#authentication-and-authorization class=md-nav__link> <span class=md-ellipsis> Authentication and Authorization </span> </a> <nav class=md-nav aria-label="Authentication and Authorization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#authentication class=md-nav__link> <span class=md-ellipsis> Authentication </span> </a> </li> <li class=md-nav__item> <a href=#authorization class=md-nav__link> <span class=md-ellipsis> Authorization </span> </a> </li> <li class=md-nav__item> <a href=#metadata-management-service-mds-for-rbac-for-flink class=md-nav__link> <span class=md-ellipsis> MetaData Management Service (MDS) for RBAC for Flink </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sql-specific class=md-nav__link> <span class=md-ellipsis> SQL specific </span> </a> </li> <li class=md-nav__item> <a href=#applications class=md-nav__link> <span class=md-ellipsis> Applications </span> </a> </li> <li class=md-nav__item> <a href=#understanding-sizing class=md-nav__link> <span class=md-ellipsis> Understanding Sizing </span> </a> <nav class=md-nav aria-label="Understanding Sizing"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#statement-complexity-impact class=md-nav__link> <span class=md-ellipsis> Statement Complexity Impact </span> </a> </li> <li class=md-nav__item> <a href=#architecture-assumptions class=md-nav__link> <span class=md-ellipsis> Architecture Assumptions </span> </a> </li> <li class=md-nav__item> <a href=#state-management-checkpointing class=md-nav__link> <span class=md-ellipsis> State Management &amp; Checkpointing </span> </a> </li> <li class=md-nav__item> <a href=#resource-guidelines class=md-nav__link> <span class=md-ellipsis> Resource Guidelines </span> </a> </li> <li class=md-nav__item> <a href=#latency-impact-on-resources class=md-nav__link> <span class=md-ellipsis> Latency Impact on Resources </span> </a> </li> <li class=md-nav__item> <a href=#estimation-heuristics class=md-nav__link> <span class=md-ellipsis> Estimation Heuristics </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#monitoring class=md-nav__link> <span class=md-ellipsis> Monitoring </span> </a> </li> <li class=md-nav__item> <a href=#troubleshouting class=md-nav__link> <span class=md-ellipsis> Troubleshouting </span> </a> <nav class=md-nav aria-label=Troubleshouting> <ul class=md-nav__list> <li class=md-nav__item> <a href=#submitted-query-pending class=md-nav__link> <span class=md-ellipsis> Submitted query pending </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=confluent-platform-for-flink>Confluent Platform for Flink<a class=headerlink href=#confluent-platform-for-flink title="Permanent link">&para;</a></h1> <p><a href=https://docs.confluent.io/platform/current/flink/overview.html>The official product documentation after 07/2025 release is here.</a> </p> <p>CP Flink is the Confluent Flink product that is extremely flexible and configurable to address a large set of user's requirements. It is a supported Flink with a subset of Flink components: SQL, Table API, DataStream API, ProcessFunction. Using Kafka, FileSystem, JDBC and CDC connectors, and using a central management feature for Kubernettes deployment and security.</p> <p>The main features are:</p> <ul> <li>Fully compatible with open-source Flink. </li> <li>Deploy on Kubernetes using Helm. It is only supported on kube. On Kubernetes, machine or Flink process failures will be recovered by Kubernetes, guaranteeing high uptime, and low latency.</li> <li>Define environment, which does a logical grouping of Flink applications with the goal to provide access isolation, and configuration sharing.</li> <li>Deploy application with user interface and task manager cluster</li> <li>Exposes custom kubernetes operator for specific CRD</li> <li>When integrated with Kafka, Kafka CP can run on bare metal while CP Flink on kube.</li> </ul> <p>The figure below presents the Confluent Flink components deployed on Kubernetes:</p> <figure> <img alt=1 src=../diagrams/cp-flink-deployment.drawio.png> <figcaption>Confluent Platform for Flink</figcaption> </figure> <ul> <li>CFK supports the management of custom CRD, based on the Flink for Kubernetes Operator. (CFK 3.0.0 supports CP 8.0.0)</li> <li>CMF (Confluent Manager for Apache Flink) adds security control, and a REST API server for the cli or a HTTP client</li> <li>FKO is the open source Flink for Kubernetes Operator</li> <li>Flink cluster are created from command and CRDs and run Flink applications within an environment</li> </ul> <p>Be sure to have <a href=https://docs.confluent.io/confluent-cli/current/install.html#install-confluent-cli>confluent cli.</a></p> <h2 id=references-compendium>References Compendium<a class=headerlink href=#references-compendium title="Permanent link">&para;</a></h2> <ul> <li><a href=https://docs.confluent.io/platform/current/get-started/platform.html>Platform overview</a></li> <li><a href=https://docs.confluent.io/platform/current/get-started/platform-quickstart.html>QuickStart using Docker compose</a> with the <a href=https://github.com/confluentinc/cp-all-in-one/tree/latest/cp-all-in-one>All in one git repo.</a></li> <li><a href=https://docs.confluent.io/operator/current/overview.html>Kubernetes Operator</a></li> <li><a href=https://docs.confluent.io/platform/current/tutorials/cp-demo/overview.html>Scripted Confluent Platform Demo</a></li> <li><a href=https://docs.confluent.io/platform/current/connect/kafka_connectors.html#connectors-self-managed-cp>Kafka Connector</a></li> </ul> <h2 id=specific-concepts-added-on-top-of-flink>Specific concepts added on top of Flink<a class=headerlink href=#specific-concepts-added-on-top-of-flink title="Permanent link">&para;</a></h2> <ul> <li> <p>Confluent Manager for Flink (<strong>CMF</strong>) provides:</p> <ul> <li>Job life-cycle management for Flink jobs.</li> <li>Integration with Confluent Platform for authentication and authorization (RBAC).</li> <li>Well-defined REST APIs and command-line interfaces (CLIs).</li> <li>Store metadata in its own embedded database</li> <li>It is a kubernetes operator to manage custom resources</li> </ul> </li> <li> <p><strong>Environment</strong>: for access control isolation, and Flink configuration sharing</p> </li> <li><strong>Compute pool</strong> represents resources to run Task manager and Job manager. Each Flink SQL statement is associated with exactly one Compute Pool. <a href=https://docs.confluent.io/platform/current/flink/configure/compute-pools.html>See example of pool definition</a> and in <a href=https://github.com/jbcodeforce/flink-studies/blob/master/deployment/k8s/cmf>cmf folder</a></li> <li> <p><strong>SQL catalog</strong> to group database concept for Flink SQL table queries. It references a Schema Registry instance and one or more Kafka clusters.</p> </li> <li> <p><a href=https://docs.confluent.io/platform/current/flink/faq.html>See Product FAQs</a></p> </li> </ul> <h2 id=product-set-up>Product Set Up<a class=headerlink href=#product-set-up title="Permanent link">&para;</a></h2> <p>The <strong>Confuent Flink images</strong> and Helm chart references:</p> <ul> <li>Maven repo: <a href=https://packages.confluent.io/maven/io/confluent/flink/ >https://packages.confluent.io/maven/io/confluent/flink/</a></li> <li>Docker Images: <a href=https://hub.docker.com/r/confluentinc/cp-flink>https://hub.docker.com/r/confluentinc/cp-flink</a></li> <li>Helm charts are used to install the Confluent Manager for Apache Flink (CMF) application and the Flink Kubernetes operator. (e.g. helm pull confluentinc/confluent-manager-for-apache-flink). </li> <li>CP Flink may be deployed in air-gapped environments by downloading from the internet using docker pull and then stored in a tar archive using docker image save.</li> </ul> <p><strong>Demonstrations:</strong></p> <ul> <li><a href=../../coding/k8s-deploy/#confluent-manager-for-flink>See my dedicated chapter for Confluent Plaform Kubernetes deployment</a>.</li> <li><a href=https://github.com/jbcodeforce/flink-studies/blob/master/deployment/k8s/cp-flink/Makefile>See the makefile to deploy CMF</a>, and the <a href=https://docs.confluent.io/platform/current/flink/installation/overview.html>product documentation</a> </li> </ul> <h2 id=deployment-architecture>Deployment architecture<a class=headerlink href=#deployment-architecture title="Permanent link">&para;</a></h2> <ul> <li>A Flink cluster always needs to run in one K8s cluster in one region, as the Flink nodes are typically exchanging a lot of data, requiring low latency network. See <a href=../../cookbook/considerations/#apache-flink-within-kubernetes>K8S deployment architecture - chapter</a></li> </ul> <figure> <img alt src=../../cookbook/diagrams/cp-cmf-k8s-deploy.drawio.png> </figure> <ul> <li>For failover between data centers, the approach if to share durable storage (HDFS, S3, Minio) accessible between data centers, get Kafka topic replicated by keeping offset numbers, and being able to restart Flink Application from checkpoints.</li> </ul> <figure> <img alt src=../diagrams/simple_ha.drawio.png> </figure> <ul> <li>Also recall that Flink may be able to interact with multiple Kafka Clusters at the same time, which may be interesting to read from one Kafka cluster in Region A and write to another Kafka cluster in Region B.</li> </ul> <h2 id=important-source-of-information-for-deployment>Important Source of Information for Deployment<a class=headerlink href=#important-source-of-information-for-deployment title="Permanent link">&para;</a></h2> <ul> <li><a href=https://docs.confluent.io/operator/current/co-deploy-cp.html#co-deploy-cp>Confluent Platform deployment using kubernetes operator</a></li> <li><a href=https://docs.confluent.io/platform/current/flink/installation/overview.html>Deployment overview</a> and <a href=https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/overview/ >for Apache Flink.</a> </li> <li><a href=https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/ha/kubernetes_ha/ >CP Flink supports K8s HA only.</a></li> <li><a href=https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/finegrained_resource/ >Flink fine-grained resource management documentation.</a></li> <li><a href=https://www.confluent.io/blog/introducing-confluent-platform-8-0/ >CP v8 announcement</a>: builds on Kafka 4.0, next-gen Confluent Control Center (integrating with the open telemetry protocol (OTLP), Confluent Manager for Apache Flink® (CMF)), Kraft native (support significantly larger clusters with millions of partitions), Client-Side field level encryption. CP for Flink support SQL, Queues for Kafka is now in Early Access, </li> </ul> <h2 id=authentication-and-authorization>Authentication and Authorization<a class=headerlink href=#authentication-and-authorization title="Permanent link">&para;</a></h2> <p>Authentication and authorization includes access to Confluent Platform components from external systems and users and for intra-components communication. The following figure illustrates what needs to be covered:</p> <p><img alt src=../diagrams/security_scope.drawio.png></p> <p>By default CP components are not configured to include encryption, authentication and authorization.</p> <ul> <li><a href=https://docs.confluent.io/platform/current/security/overview.html>See managing security in Confluent Platform</a></li> <li>TLS is used to encrypt communication</li> <li>OAuth 2.0 supported</li> <li>Possible to use Confluent Cloud for SSO</li> <li>LDAP supports for users and group</li> </ul> <h3 id=authentication>Authentication<a class=headerlink href=#authentication title="Permanent link">&para;</a></h3> <p>The product documentations for <a href=https://docs.confluent.io/platform/current/security/authentication/overview.html>CP authentication</a> can be summarized as:</p> <ul> <li>Kafka brokers accesses from producer/consumer applications can be done using SASL (Simple Authentication Security Layer), mutualTLS to verify clients and server identities to ensure that traffic is secure and trusted in both directions.</li> <li>Admin REST API authentication is done via HTTP Basic Auth</li> <li>Access to the C3 may be done <a href=https://docs.confluent.io/platform/current/security/authentication/sso-for-c3/overview.html>via SSO</a></li> <li>It supports using <a href>LDAP for authentication</a> or <a href=https://docs.confluent.io/platform/current/security/authentication/oauth-oidc/overview.html>OAuth/OIDC</a> where all identities across Confluent Platform workloads and interfaces can be hosted on a single identity provider providing for a unified identity management solution. <a href=https://github.com/confluentinc/cp-all-in-one/tree/master/cp-all-in-one-security/oauth>See a Keycloak docker compose demo</a>, and <a href=https://github.com/jbcodeforce/flink-studies/blob/master/deployment/k8s/keycloak/README.md>my keycloak deployment on k8s</a>.</li> <li>See <a href=https://docs.confluent.io/platform/current/security/authentication/mutual-tls/overview.html#kafka-ssl-authentication>SSL/TLS</a> on how to use openssl for cryptography encryption.</li> <li>By default inter broker communication is PLAINTEXT, but it can be set to SSL</li> <li>Secrets can be saved not AWS Secrets Manager or HashiCorp Vault.</li> </ul> <h3 id=authorization>Authorization<a class=headerlink href=#authorization title="Permanent link">&para;</a></h3> <p>The product documentations for <a href=https://docs.confluent.io/platform/current/security/authorization/overview.html>CP Authorization</a> highlights the following major points:</p> <ul> <li>Access to Confluent Platform resources as clusters, topics, consumer groups, and connectors are controlled via <a href=https://docs.confluent.io/platform/current/security/authorization/acls/overview.html#acls-authorization>ACLs</a>. ACLs are stored in the KRaft-based Kafka cluster metadata.</li> <li>Group based authorization can be defined in LDAP</li> <li>The control of who can access what, is via RBAC with roles such as <code>ClusterAdmin</code> or <code>DeveloperRead</code> assigned to users and service accounts.</li> <li>ACLs may be used, instead of RBAC</li> </ul> <h3 id=metadata-management-service-mds-for-rbac-for-flink>MetaData Management Service (MDS) for RBAC for Flink<a class=headerlink href=#metadata-management-service-mds-for-rbac-for-flink title="Permanent link">&para;</a></h3> <p>Flink Job represents code. So it is critical to setup authentication and authorization. Flink supports <a href=https://nightlies.apache.org/flink/flink-docs-release-1.19/docs/deployment/security/security-ssl/ >TLS/SSL for authentication and encryption</a> of network traffic between Flink processes, both for internal connectivity (between Flink processes) and external connectivity (From outside to Flink processes).</p> <p>Recall that, keystore and a truststore must be set up such that the truststore trusts the keystore’s certificates.</p> <p>CMF supports mTLS authentication and OAuth authentication. As CMF is deployed via kubernetes operator, SREs have control over who may deploy Flink applications. All access should go through CMF to comply with the authentication and authorization requirements.</p> <ul> <li> <p>For mTLS the approach is to define a mtls-values.yaml and use it when deploying or upgrading the cmf helm chart. <div class="language-sh highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>helm<span class=w> </span>upgrade<span class=w> </span>--install<span class=w> </span>cmf<span class=w> </span>confluentinc/confluent-manager-for-apache-flink<span class=w> </span>-f<span class=w> </span>mtls-values.yaml
</span></code></pre></div></p> <p>See and example of <a href=https://github.com/jbcodeforce/flink-studies/blob/master/deployment/k8s/cmf/mtls-values.yaml>mtls-values.yaml</a> which declares the truststore file to use. The certificates should be defined in a secret.</p> </li> </ul> <details class="- info"> <summary>Defining SSL certs</summary> <div class=codehilite><pre><span></span><code><span class=k>Use</span><span class=w> </span><span class=o>[</span><span class=n>keytool</span><span class=o>]</span><span class=p>(</span><span class=nl>https</span><span class=p>:</span><span class=o>//</span><span class=n>docs</span><span class=p>.</span><span class=n>oracle</span><span class=p>.</span><span class=n>com</span><span class=o>/</span><span class=n>javase</span><span class=o>/</span><span class=mi>8</span><span class=o>/</span><span class=n>docs</span><span class=o>/</span><span class=n>technotes</span><span class=o>/</span><span class=n>tools</span><span class=o>/</span><span class=n>unix</span><span class=o>/</span><span class=n>keytool</span><span class=p>.</span><span class=n>html</span><span class=p>)</span><span class=w> </span><span class=k>to</span><span class=w> </span><span class=k>create</span><span class=w> </span><span class=n>self</span><span class=o>-</span><span class=n>certified</span><span class=w> </span><span class=n>certificates</span><span class=w> </span><span class=ow>and</span><span class=w> </span><span class=n>keys</span><span class=p>.</span>
<span class=err>```</span><span class=n>sh</span>
<span class=n>keytool</span><span class=w> </span><span class=o>-</span><span class=n>genkeypair</span><span class=w> </span><span class=o>-</span><span class=k>alias</span><span class=w> </span><span class=n>flink</span><span class=p>.</span><span class=n>internal</span><span class=w> </span><span class=o>-</span><span class=n>keystore</span><span class=w> </span><span class=n>internal</span><span class=p>.</span><span class=n>keystore</span><span class=w> </span><span class=o>-</span><span class=n>dname</span><span class=w> </span><span class=ss>&quot;CN=flink.internal&quot;</span><span class=w> </span><span class=err>\</span>
<span class=w>        </span><span class=o>-</span><span class=n>storepass</span><span class=w> </span><span class=n>internal_store_password</span><span class=w> </span><span class=o>-</span><span class=n>keyalg</span><span class=w> </span><span class=n>RSA</span><span class=w> </span><span class=o>-</span><span class=n>keysize</span><span class=w> </span><span class=mi>4096</span><span class=w> </span><span class=o>-</span><span class=n>storetype</span><span class=w> </span><span class=n>PKCS12</span>
<span class=err>```</span>
<span class=n>Define</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=n>secret</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=n>the</span><span class=w> </span><span class=n>base64</span><span class=w> </span><span class=n>string</span><span class=w> </span><span class=k>of</span><span class=w> </span><span class=n>the</span><span class=w> </span><span class=nl>certificates</span><span class=p>:</span>
<span class=err>```</span><span class=n>sh</span>
<span class=n>cat</span><span class=w> </span><span class=n>your_certificate</span><span class=p>.</span><span class=n>crt</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>base64</span><span class=w> </span><span class=o>-</span><span class=n>w</span><span class=w> </span><span class=mi>0</span>
<span class=n>cat</span><span class=w> </span><span class=n>your_private_key</span><span class=p>.</span><span class=k>key</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>base64</span><span class=w> </span><span class=o>-</span><span class=n>w</span><span class=w> </span><span class=mi>0</span>
<span class=err>```</span>

<span class=ow>And</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=n>secret</span><span class=p>.</span><span class=n>yaml</span>
<span class=err>```</span><span class=n>yaml</span>
<span class=nl>apiVersion</span><span class=p>:</span><span class=w> </span><span class=n>v1</span>
<span class=nl>kind</span><span class=p>:</span><span class=w> </span><span class=n>Secret</span>
<span class=nl>metadata</span><span class=p>:</span>
<span class=w>    </span><span class=nl>name</span><span class=p>:</span><span class=w> </span><span class=n>cmf</span><span class=o>-</span><span class=n>certs</span>
<span class=nl>type</span><span class=p>:</span><span class=w> </span><span class=n>kubernetes</span><span class=p>.</span><span class=n>io</span><span class=o>/</span><span class=n>tls</span>
<span class=k>data</span><span class=err>:</span>
<span class=w>    </span><span class=n>tls</span><span class=p>.</span><span class=nl>crt</span><span class=p>:</span><span class=w> </span><span class=o>&lt;</span><span class=n>base64_encoded_certificate</span><span class=o>&gt;</span>
<span class=w>    </span><span class=n>tls</span><span class=p>.</span><span class=k>key</span><span class=err>:</span><span class=w> </span><span class=o>&lt;</span><span class=n>base64_encoded_private_key</span><span class=o>&gt;</span>
<span class=err>```</span>
</code></pre></div> </details> <h4 id=roles>Roles<a class=headerlink href=#roles title="Permanent link">&para;</a></h4> <p>The Flink Kubernetes operator installs two custom roles: <strong>flink-operator</strong> and <strong>flink</strong>:</p> <ul> <li><code>flink-operator</code> is used to manage <code>FlinkDeployment</code> resources: meaning it creates and manages the JobManager deployment for each Flink job (and related resources). </li> <li><code>flink</code> role is used by the jobManager process of each job to create and manage the taskManager and configMap resources.</li> </ul> <p>With FKO, job and task managers are dep loyed together so there is no need for the <code>flink</code> service account to have permissions to launch additional pods. K8s handles the TaskManager Pod lifecycle. With native k8s mode, flink code may could inherit the JobManager's Kubernetes permissions, and so being able to launch other pods to access sensitive cluster resoirces.</p> <h4 id=rbac>RBAC<a class=headerlink href=#rbac title="Permanent link">&para;</a></h4> <ul> <li>CMF communicates with the MDS to validate whether the principal of the incoming request is allowed to perform a specific action.</li> <li>CMF requires its own service principal to authorize user principals.</li> </ul> <h4 id=metdata-service-mds>Metdata service (MDS)<a class=headerlink href=#metdata-service-mds title="Permanent link">&para;</a></h4> <p><a href=https://docs.confluent.io/platform/current/kafka/configure-mds/index.html>MDS manages</a> a variety of metadata about your Confluent Platform installation. It is configured on each Kafka broker. It is possible to centralize into a hub and spoke architecture of multiple kafka clusters, Connect and schema registry. MDS maintains a local cache of authorization data that is persisted to an internal Kafka topic named _confluent-metadata-auth.</p> <ul> <li><a href=https://docs.confluent.io/platform/current/kafka/configure-mds/index.html#configure-mds-long-in-cp>Metadata Service Overview</a></li> <li>Single broker <a href=https://docs.confluent.io/platform/current/kafka/configure-mds/index.html#configure-a-primary-ak-cluster-to-host-the-mds-and-role-binding>Kafka+MDS Deployment</a></li> <li><a href=https://github.com/confluentinc/confluent-kubernetes-examples/tree/master/security/production-secure-deploy>Git repo with working CP on K8s deployment using RBAC via SASL/Plain and LDAP</a></li> <li><a href=https://docs.confluent.io/platform/current/flink/installation/authorization.html>Configure CP Flink to use MDS for Auth</a></li> <li><a href=https://nightlies.apache.org/flink/flink-kubernetes-operator-docs-release-1.8/docs/operations/rbac/ >Additional Flink RBAC Docs</a></li> <li><a href=https://docs.confluent.io/platform/current/flink/flink-jobs/security.html#how-to-secure-a-af-job-with-cmf-long>How to secure a Flink job with RBAC</a></li> <li>Best Practices for <a href=https://kubernetes.io/docs/concepts/security/rbac-good-practices/ >K8s + RBAC</a></li> </ul> <h2 id=sql-specific>SQL specific<a class=headerlink href=#sql-specific title="Permanent link">&para;</a></h2> <p>As of November 2025 <a href=https://docs.confluent.io/platform/current/flink/jobs/sql-statements/overview.html>SQL support is still under-preview.</a></p> <h2 id=applications>Applications<a class=headerlink href=#applications title="Permanent link">&para;</a></h2> <p>Important points:</p> <ul> <li>After CMF is installed and running, it will continuously watch Flink applications.</li> <li>Environment control k8s namespace in which the Flink application is deployed.</li> <li>Suspended app, does not consume resource, and may be restored from its savepoint.</li> <li> <p>CLI, REST API or the Control Center Console may be used to deploy app.</p> </li> <li> <p><a href=../../coding/datastream/#create-a-java-project-with-maven>See the getting started with a Java project for Flink</a>, see also <a href=https://docs.confluent.io/platform/current/flink/jobs/applications/packaging.html#set-up-the-project-configuration>the Confluent specific settings</a>.</p> </li> </ul> <h2 id=understanding-sizing>Understanding Sizing<a class=headerlink href=#understanding-sizing title="Permanent link">&para;</a></h2> <p>The observed core performance rule is that Flink can process ~10,000 records per second per CPU core. This baseline may decrease with larger messages, bigger state, key skew, or high number of distinct keys.</p> <p>There are a set of characteristics to assess before doing sizing:</p> <h3 id=statement-complexity-impact>Statement Complexity Impact<a class=headerlink href=#statement-complexity-impact title="Permanent link">&para;</a></h3> <p>Statement complexity reflects the usage of complex operators like:</p> <ul> <li>Joins between multiple streams</li> <li>Windowed aggregations</li> <li>Complex analytics functions</li> </ul> <p><em>More complex operations require additional CPU and memory resources.</em></p> <h3 id=architecture-assumptions>Architecture Assumptions<a class=headerlink href=#architecture-assumptions title="Permanent link">&para;</a></h3> <ul> <li>Source &amp; Sink latency: Assumed to be minimal</li> <li>Key size: Assumed to be small (few bytes)</li> <li>Minimum cluster size: 3 nodes required</li> <li>CPU limit: Maximum 8 CPU cores per Flink node</li> </ul> <h3 id=state-management-checkpointing>State Management &amp; Checkpointing<a class=headerlink href=#state-management-checkpointing title="Permanent link">&para;</a></h3> <ul> <li>Working State: Kept locally in RocksDB</li> <li>Backup: State backed up to distributed storage</li> <li>Recovery: Checkpoint size affects recovery time</li> <li>Frequency: Checkpoint interval determines state capture frequency</li> <li>Aggregate state size consumes bandwidth and impacts recovery latency.</li> </ul> <h3 id=resource-guidelines>Resource Guidelines<a class=headerlink href=#resource-guidelines title="Permanent link">&para;</a></h3> <p>Typical Flink node configuration includes:</p> <ul> <li>4 CPU cores with 16GB memory</li> <li>Should process 20-50 MB/s of data</li> <li>Jobs with significant state benefit from more memory</li> </ul> <p><em>Scaling Strategy: Scale vertically before horizontally</em></p> <h3 id=latency-impact-on-resources>Latency Impact on Resources<a class=headerlink href=#latency-impact-on-resources title="Permanent link">&para;</a></h3> <p>Lower latency requirements significantly increase resource needs:</p> <ul> <li>Sub-500ms latency: +50% CPU, frequent checkpoints (10s), boosted parallelism</li> <li>Sub-1s latency: +20% CPU, extra buffering memory, 30s checkpoints</li> <li>Sub-5s latency: +10% CPU, moderate buffering, 60s checkpoints</li> <li>Relaxed latency (&gt;5s): Standard resource allocation <em>Stricter latency requires more frequent checkpoints for faster recovery, additional memory for buffering, and extra CPU for low-latency optimizations.</em></li> </ul> <h3 id=estimation-heuristics>Estimation Heuristics<a class=headerlink href=#estimation-heuristics title="Permanent link">&para;</a></h3> <p>The estimator increases task managers until there are sufficient resources for:</p> <ul> <li>Expected throughput requirements</li> <li>Latency-appropriate checkpoint intervals</li> <li>Acceptable recovery times</li> <li>Handling data skew and key distribution</li> </ul> <details class="- warning"> <summary>Important Notes</summary> <ul> <li>These are estimates - always test with your actual workload</li> <li>Start with conservative estimates and adjust based on testing</li> <li>Monitor your cluster performance and tune as needed</li> <li>Consider your specific data patterns and business requirements</li> </ul> </details> <p><a href=https://github.com/jbcodeforce/flink-estimator>See this Flink estimator project</a> for a tool to help estimating cluster sizing.</p> <h2 id=monitoring>Monitoring<a class=headerlink href=#monitoring title="Permanent link">&para;</a></h2> <h2 id=troubleshouting>Troubleshouting<a class=headerlink href=#troubleshouting title="Permanent link">&para;</a></h2> <h3 id=submitted-query-pending>Submitted query pending<a class=headerlink href=#submitted-query-pending title="Permanent link">&para;</a></h3> <p>When submitting SQL query from the Flink SQL, it is possible it goes in pending: the job manager pod is created and running, but the task manager is pending. Assess what is going on with <code>kubectl describe pod &lt;pod_id&gt; -n flink</code>, which gives error message like insufficient cpu. Adding compute pool cpu is worse as the compute pool spec for task manager and job manager is for the default settings to create those pods.</p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../ccloud-flink/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Confluent Cloud Flink"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Confluent Cloud Flink </div> </div> </a> <a href=../../architecture/kafka/ class="md-footer__link md-footer__link--next" aria-label="Next: Kafka Integration"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Kafka Integration </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2018 - 2026 Jerome Boyer </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/jbcodeforce target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://linkedin.com/in/jeromeboyer target=_blank rel=noopener title=linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["content.code.annotation", "content.code.copy", "content.tooltips", "content.tabs.link", "search.suggest", "search.highlight", "navigation.instant", "navigation.instant.progress", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.sections", "navigation.expand", "navigation.top", "navigation.footer"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>